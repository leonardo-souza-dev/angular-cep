{"ast":null,"code":"import { environment } from 'environments/environment';\nimport * as i0 from \"@angular/core\";\nexport class ApiInterceptor {\n  constructor() {}\n  intercept(req, next) {\n    // Get the request url\n    let requestUrl = req.url;\n    // if the request URL have the string prefix, \n    // then make the replace by the correct url \n    if (requestUrl.indexOf('@api-x') !== -1) {\n      requestUrl = requestUrl.replace('@api-x', environment.api);\n    }\n    // clone the http request\n    req = req.clone({\n      url: requestUrl\n    });\n    // move to next HttpClient request life cycle\n    return next.handle(req);\n  }\n}\nApiInterceptor.ɵfac = function ApiInterceptor_Factory(t) {\n  return new (t || ApiInterceptor)();\n};\nApiInterceptor.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ApiInterceptor,\n  factory: ApiInterceptor.ɵfac\n});","map":{"version":3,"mappings":"AAGA,SAASA,WAAW,QAAQ,0BAA0B;;AAEtD,OAAM,MAAOC,cAAc;EAC1BC,eAAgB;EAChBC,SAAS,CACPC,GAAqB,EACrBC,IAAiB;IAEjB;IACA,IAAIC,UAAU,GAAGF,GAAG,CAACG,GAAG;IACxB;IACA;IACA,IAAID,UAAU,CAACE,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;MACvCF,UAAU,GAAGA,UAAU,CAACG,OAAO,CAAC,QAAQ,EAAET,WAAW,CAACU,GAAG,CAAC;;IAE5D;IACAN,GAAG,GAAGA,GAAG,CAACO,KAAK,CAAC;MACdJ,GAAG,EAAED;KACN,CAAC;IACF;IACA,OAAOD,IAAI,CAACO,MAAM,CAACR,GAAG,CAAC;EACzB;;AAnBYH,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;SAAdA,cAAc;EAAAY,SAAdZ,cAAc;AAAA","names":["environment","ApiInterceptor","constructor","intercept","req","next","requestUrl","url","indexOf","replace","api","clone","handle","factory"],"sourceRoot":"","sources":["D:\\aulas\\angular_proj\\angular-x6reg7\\src\\app\\api-interceptor.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpInterceptor, HttpHandler, HttpRequest, HttpEvent } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'environments/environment';\r\n@Injectable()\r\nexport class ApiInterceptor implements HttpInterceptor {\r\n constructor() { }\r\n intercept(\r\n   req: HttpRequest<any>,\r\n   next: HttpHandler\r\n ): Observable<HttpEvent<any>> {\r\n   // Get the request url\r\n   let requestUrl = req.url;\r\n   // if the request URL have the string prefix, \r\n   // then make the replace by the correct url \r\n   if (requestUrl.indexOf('@api-x') !== -1) {\r\n     requestUrl = requestUrl.replace('@api-x', environment.api);\r\n   }\r\n   // clone the http request\r\n   req = req.clone({\r\n     url: requestUrl\r\n   });\r\n   // move to next HttpClient request life cycle\r\n   return next.handle(req);\r\n }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}